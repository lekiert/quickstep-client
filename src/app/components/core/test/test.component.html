<div class="" *ngIf="test">
  <div class="row">
    <div class="gr-12">
      <h1 class="heading heading--border">{{ test.name }}</h1>
    </div>
    <div class="gr-12">
      <div class="test">

        <div class="test__excercises">

          <div *ngFor="let excercise of excercises; let i = index" class="test__excercises__excercise">
            <div class="test__excercises__excercise__name">
              <h3 class="heading heading--primary">{{ excercise.name }}</h3>
            </div>

            <div class="test__excercises__excercise__command">
              <p>{{ excercise.command }}</p>
            </div>

            <div class="test__excercises__excercise__attachments">
              <div *ngFor="let item of excercise.attachments" style="display: inline-block;vertical-align:middle; margin: 15px;">
                <img *ngIf="item.type === 'image/png' || item.type === 'image/jpg' || item.type === 'image/jpeg'" class="test__excercises__excercise__attachments__item" src="{{ storageUrl }}{{ item.url }}">
                <audio controls *ngIf="item.type === 'audio/mpeg'">
                  <source class="test__excercises__excercise__attachments__item" src="{{ storageUrl }}{{ item.url }}" type="{{ item.type }}">
                </audio>
              </div>
            </div>

            <div class="test__excercises__excercise__body">
              <student-brackets [excercise]="excercise" [answers]="answers[excercise.id]" *ngIf="excercise.type === 'BRACKETS'"></student-brackets>
              <student-choice [excercise]="excercise" [answers]="answers[excercise.id]" *ngIf="excercise.type === 'CHOICE'"></student-choice>
            </div>
          </div>

        </div>



      </div>

      <hr class="line">

      <button type="button" *ngIf="!hasResults" class="button button--primary test__check" (click)="submitAnswers()">Sprawdź wyniki</button>
      <!-- <button type="button" class="button button--primary test__check" (click)="submitAnswers()">Sprawdź wyniki</button> -->

      <div class="test__score" *ngIf="hasResults">
        Wynik: {{ score }}%
      </div>

    </div>
  </div>
</div>
