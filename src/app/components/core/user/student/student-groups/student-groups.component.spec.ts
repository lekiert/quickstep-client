import { async, ComponentFixture, TestBed } from '@angular/core/testing';

import { StudentGroupsComponent } from './student-groups.component';
import {GroupService} from "app/services/group/group.service";
import {UserService} from "app/services/user/user.service";
import {RouterTestingModule} from "@angular/router/testing";
import {FormsModule} from "@angular/forms";
import {Http, HttpModule} from "@angular/http";
import {AuthConfig, AuthHttp} from "angular2-jwt";
import {User} from "app/user";
import {Group} from "app/group";
import {GroupListComponent} from "app/components/core/group/group-list/group-list.component";
import {Observable} from "rxjs/Observable";
import {Subject} from "rxjs/Subject";
import {AuthService} from "../../../../../services/auth/auth.service";


class AuthServiceMock {
  getUserAsObservable() {
    let user = new User(1, {
      first_name: 'Jan',
      last_name: 'Kowalski',
      role: 'STUDENT'
    });
    let sub = new Subject<User>();
    sub.next(user);

    return sub.asObservable();
  }

  public getAuthenticatedUser(): Promise<User> {
    let user = new User(1, {
      first_name: 'Jan',
      last_name: 'Kowalski',
      role: 'STUDENT'
    });

    return new Promise(r => r(user))
  }
}

class UserServiceMock {
  getAuthenticatedUserObject() {
    let user = new User(1, {
      'role': 'SUPERVISOR'
    })

    return new Promise((resolve) => resolve(user));
  }


  getAuthenticatedUser(): Observable<User> {
    let user = new User(1, {
      attributes: {
        role: 'SUPERVISOR'
      }
    });
    let sub = new Subject<User>();
    sub.next(user);

    return sub.asObservable();
  }
}

class GroupServiceMock {
  getGroups() {
    let source = {"data":[{"id":"1","type":"groups","links":{"self":"http://localhost:3000/groups/1"},"attributes":{"name":"Grupa 0","description":"Grupa testowa","user-count":2},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/1/relationships/users","related":"http://localhost:3000/groups/1/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/1/relationships/teachers","related":"http://localhost:3000/groups/1/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/1/relationships/courses","related":"http://localhost:3000/groups/1/courses"}}}},{"id":"2","type":"groups","links":{"self":"http://localhost:3000/groups/2"},"attributes":{"name":"SP3 GR 3","description":"Lębork, klasa 5-6 ","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/2/relationships/users","related":"http://localhost:3000/groups/2/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/2/relationships/teachers","related":"http://localhost:3000/groups/2/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/2/relationships/courses","related":"http://localhost:3000/groups/2/courses"}}}},{"id":"3","type":"groups","links":{"self":"http://localhost:3000/groups/3"},"attributes":{"name":"Rokity gr 1","description":"Rokity, klasa 2-3","user-count":7},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/3/relationships/users","related":"http://localhost:3000/groups/3/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/3/relationships/teachers","related":"http://localhost:3000/groups/3/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/3/relationships/courses","related":"http://localhost:3000/groups/3/courses"}}}},{"id":"4","type":"groups","links":{"self":"http://localhost:3000/groups/4"},"attributes":{"name":"Nożyno gr 1","description":"Nożyno, klasa 4-6","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/4/relationships/users","related":"http://localhost:3000/groups/4/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/4/relationships/teachers","related":"http://localhost:3000/groups/4/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/4/relationships/courses","related":"http://localhost:3000/groups/4/courses"}}}},{"id":"10","type":"groups","links":{"self":"http://localhost:3000/groups/10"},"attributes":{"name":"Nożyno gr 2","description":"Nożyno, gimnazjum","user-count":10},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/10/relationships/users","related":"http://localhost:3000/groups/10/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/10/relationships/teachers","related":"http://localhost:3000/groups/10/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/10/relationships/courses","related":"http://localhost:3000/groups/10/courses"}}}},{"id":"11","type":"groups","links":{"self":"http://localhost:3000/groups/11"},"attributes":{"name":"Czarna Dąbrówka gr 3","description":"Czarna Dąbrówka, klasa 4-6, gr 3","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/11/relationships/users","related":"http://localhost:3000/groups/11/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/11/relationships/teachers","related":"http://localhost:3000/groups/11/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/11/relationships/courses","related":"http://localhost:3000/groups/11/courses"}}}},{"id":"12","type":"groups","links":{"self":"http://localhost:3000/groups/12"},"attributes":{"name":"Czarna Dąbrówka gr 2","description":"Czarna Dąbrówka, klasa 4-6, gr 2","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/12/relationships/users","related":"http://localhost:3000/groups/12/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/12/relationships/teachers","related":"http://localhost:3000/groups/12/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/12/relationships/courses","related":"http://localhost:3000/groups/12/courses"}}}},{"id":"13","type":"groups","links":{"self":"http://localhost:3000/groups/13"},"attributes":{"name":"Czarna Dąbrówka gr 1","description":"Czarna Dąbrówka, klasa 2-3, gr 1","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/13/relationships/users","related":"http://localhost:3000/groups/13/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/13/relationships/teachers","related":"http://localhost:3000/groups/13/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/13/relationships/courses","related":"http://localhost:3000/groups/13/courses"}}}},{"id":"14","type":"groups","links":{"self":"http://localhost:3000/groups/14"},"attributes":{"name":"Czarna Dąbrówka gr 4","description":"Czarna Dąbrówka, gimnazjum, gr 4","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/14/relationships/users","related":"http://localhost:3000/groups/14/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/14/relationships/teachers","related":"http://localhost:3000/groups/14/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/14/relationships/courses","related":"http://localhost:3000/groups/14/courses"}}}},{"id":"15","type":"groups","links":{"self":"http://localhost:3000/groups/15"},"attributes":{"name":"Czarna Dąbrówka gr 5","description":"Czarna Dąbrówka, gimnazjum, gr 5","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/15/relationships/users","related":"http://localhost:3000/groups/15/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/15/relationships/teachers","related":"http://localhost:3000/groups/15/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/15/relationships/courses","related":"http://localhost:3000/groups/15/courses"}}}},{"id":"16","type":"groups","links":{"self":"http://localhost:3000/groups/16"},"attributes":{"name":"Czarna Dąbrówka gr 6","description":"Czarna Dąbrówka, gimnazjum, gr 6","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/16/relationships/users","related":"http://localhost:3000/groups/16/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/16/relationships/teachers","related":"http://localhost:3000/groups/16/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/16/relationships/courses","related":"http://localhost:3000/groups/16/courses"}}}},{"id":"17","type":"groups","links":{"self":"http://localhost:3000/groups/17"},"attributes":{"name":"GIM 1 GR 2","description":"Lębork, Gimnazjum 1, gr 2","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/17/relationships/users","related":"http://localhost:3000/groups/17/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/17/relationships/teachers","related":"http://localhost:3000/groups/17/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/17/relationships/courses","related":"http://localhost:3000/groups/17/courses"}}}},{"id":"18","type":"groups","links":{"self":"http://localhost:3000/groups/18"},"attributes":{"name":"GIM 2 GR 2","description":"Lębork, Gimnazjum 2, gr 2","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/18/relationships/users","related":"http://localhost:3000/groups/18/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/18/relationships/teachers","related":"http://localhost:3000/groups/18/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/18/relationships/courses","related":"http://localhost:3000/groups/18/courses"}}}},{"id":"19","type":"groups","links":{"self":"http://localhost:3000/groups/19"},"attributes":{"name":"GIM 2 GR 3","description":"Lębork, Gimnazjum 2, gr 3","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/19/relationships/users","related":"http://localhost:3000/groups/19/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/19/relationships/teachers","related":"http://localhost:3000/groups/19/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/19/relationships/courses","related":"http://localhost:3000/groups/19/courses"}}}},{"id":"21","type":"groups","links":{"self":"http://localhost:3000/groups/21"},"attributes":{"name":"GIM 2 GR 4","description":"Lębork, Gimnazjum 2, gr 4","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/21/relationships/users","related":"http://localhost:3000/groups/21/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/21/relationships/teachers","related":"http://localhost:3000/groups/21/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/21/relationships/courses","related":"http://localhost:3000/groups/21/courses"}}}},{"id":"22","type":"groups","links":{"self":"http://localhost:3000/groups/22"},"attributes":{"name":"JASIEŃ","description":"JASIEŃ, klasa 5-6","user-count":7},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/22/relationships/users","related":"http://localhost:3000/groups/22/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/22/relationships/teachers","related":"http://localhost:3000/groups/22/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/22/relationships/courses","related":"http://localhost:3000/groups/22/courses"}}}},{"id":"23","type":"groups","links":{"self":"http://localhost:3000/groups/23"},"attributes":{"name":"GIM 1","description":"Lębork, Gimnazjum nr 1","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/23/relationships/users","related":"http://localhost:3000/groups/23/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/23/relationships/teachers","related":"http://localhost:3000/groups/23/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/23/relationships/courses","related":"http://localhost:3000/groups/23/courses"}}}},{"id":"24","type":"groups","links":{"self":"http://localhost:3000/groups/24"},"attributes":{"name":"Magda","description":"Magda, kl II","user-count":1},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/24/relationships/users","related":"http://localhost:3000/groups/24/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/24/relationships/teachers","related":"http://localhost:3000/groups/24/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/24/relationships/courses","related":"http://localhost:3000/groups/24/courses"}}}},{"id":"25","type":"groups","links":{"self":"http://localhost:3000/groups/25"},"attributes":{"name":"Rokity gr 2","description":"Rokity, klasa 4-6","user-count":7},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/25/relationships/users","related":"http://localhost:3000/groups/25/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/25/relationships/teachers","related":"http://localhost:3000/groups/25/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/25/relationships/courses","related":"http://localhost:3000/groups/25/courses"}}}},{"id":"26","type":"groups","links":{"self":"http://localhost:3000/groups/26"},"attributes":{"name":"Rokity gr 3","description":"Rokity, gimnazjum","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/26/relationships/users","related":"http://localhost:3000/groups/26/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/26/relationships/teachers","related":"http://localhost:3000/groups/26/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/26/relationships/courses","related":"http://localhost:3000/groups/26/courses"}}}},{"id":"27","type":"groups","links":{"self":"http://localhost:3000/groups/27"},"attributes":{"name":"Rokity gr 4","description":"Rokity, gimnazjum","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/27/relationships/users","related":"http://localhost:3000/groups/27/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/27/relationships/teachers","related":"http://localhost:3000/groups/27/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/27/relationships/courses","related":"http://localhost:3000/groups/27/courses"}}}},{"id":"28","type":"groups","links":{"self":"http://localhost:3000/groups/28"},"attributes":{"name":"Rokity gr 5","description":"Rokity, gimnazjum","user-count":7},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/28/relationships/users","related":"http://localhost:3000/groups/28/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/28/relationships/teachers","related":"http://localhost:3000/groups/28/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/28/relationships/courses","related":"http://localhost:3000/groups/28/courses"}}}},{"id":"29","type":"groups","links":{"self":"http://localhost:3000/groups/29"},"attributes":{"name":"SP 3 GR 5","description":"Lębork, Szkoła Podstawowa nr 5, klasa 4-6","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/29/relationships/users","related":"http://localhost:3000/groups/29/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/29/relationships/teachers","related":"http://localhost:3000/groups/29/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/29/relationships/courses","related":"http://localhost:3000/groups/29/courses"}}}},{"id":"30","type":"groups","links":{"self":"http://localhost:3000/groups/30"},"attributes":{"name":"SP4 GR 6","description":"Lębork, Szkoła Podstawowa 4, klasa 4-6","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/30/relationships/users","related":"http://localhost:3000/groups/30/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/30/relationships/teachers","related":"http://localhost:3000/groups/30/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/30/relationships/courses","related":"http://localhost:3000/groups/30/courses"}}}},{"id":"31","type":"groups","links":{"self":"http://localhost:3000/groups/31"},"attributes":{"name":"SP4 GR 7","description":"Lębork, Szkoła Podstawowa 4, klasa 4-6","user-count":9},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/31/relationships/users","related":"http://localhost:3000/groups/31/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/31/relationships/teachers","related":"http://localhost:3000/groups/31/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/31/relationships/courses","related":"http://localhost:3000/groups/31/courses"}}}},{"id":"32","type":"groups","links":{"self":"http://localhost:3000/groups/32"},"attributes":{"name":"SP 5 GR 1","description":"Lębork, Szkoła Podstawowa nr 5, klasa 2,3 oraz 4","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/32/relationships/users","related":"http://localhost:3000/groups/32/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/32/relationships/teachers","related":"http://localhost:3000/groups/32/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/32/relationships/courses","related":"http://localhost:3000/groups/32/courses"}}}},{"id":"33","type":"groups","links":{"self":"http://localhost:3000/groups/33"},"attributes":{"name":"SP 5 GR 2","description":"Lębork, Szkoła Podstawowa nr 5, klasa 4-6","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/33/relationships/users","related":"http://localhost:3000/groups/33/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/33/relationships/teachers","related":"http://localhost:3000/groups/33/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/33/relationships/courses","related":"http://localhost:3000/groups/33/courses"}}}},{"id":"34","type":"groups","links":{"self":"http://localhost:3000/groups/34"},"attributes":{"name":"SP 3 GR 2","description":"Lębork, Szkoła Podstawowa nr 3, klasa 3-4","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/34/relationships/users","related":"http://localhost:3000/groups/34/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/34/relationships/teachers","related":"http://localhost:3000/groups/34/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/34/relationships/courses","related":"http://localhost:3000/groups/34/courses"}}}},{"id":"35","type":"groups","links":{"self":"http://localhost:3000/groups/35"},"attributes":{"name":"SP4 GR 1","description":"Lębork, Szkoła Podstawowa nr 4, klasa 1-2","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/35/relationships/users","related":"http://localhost:3000/groups/35/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/35/relationships/teachers","related":"http://localhost:3000/groups/35/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/35/relationships/courses","related":"http://localhost:3000/groups/35/courses"}}}},{"id":"36","type":"groups","links":{"self":"http://localhost:3000/groups/36"},"attributes":{"name":"GIM 3 GR 2","description":"Lębork, Gimnazjum nr 3, gr 2","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/36/relationships/users","related":"http://localhost:3000/groups/36/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/36/relationships/teachers","related":"http://localhost:3000/groups/36/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/36/relationships/courses","related":"http://localhost:3000/groups/36/courses"}}}},{"id":"37","type":"groups","links":{"self":"http://localhost:3000/groups/37"},"attributes":{"name":"GIM 3 GR 1","description":"Lębork, Gimnazjum nr 3, gr 1","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/37/relationships/users","related":"http://localhost:3000/groups/37/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/37/relationships/teachers","related":"http://localhost:3000/groups/37/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/37/relationships/courses","related":"http://localhost:3000/groups/37/courses"}}}},{"id":"38","type":"groups","links":{"self":"http://localhost:3000/groups/38"},"attributes":{"name":"SP 4 GR 3","description":"Lębork, Szkoła Podstawowa nr 4, kl. 6","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/38/relationships/users","related":"http://localhost:3000/groups/38/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/38/relationships/teachers","related":"http://localhost:3000/groups/38/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/38/relationships/courses","related":"http://localhost:3000/groups/38/courses"}}}},{"id":"39","type":"groups","links":{"self":"http://localhost:3000/groups/39"},"attributes":{"name":"ZS 3 GR 5","description":"Lębork, szkoła podstawowa, klasa 6","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/39/relationships/users","related":"http://localhost:3000/groups/39/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/39/relationships/teachers","related":"http://localhost:3000/groups/39/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/39/relationships/courses","related":"http://localhost:3000/groups/39/courses"}}}},{"id":"40","type":"groups","links":{"self":"http://localhost:3000/groups/40"},"attributes":{"name":"GIM 3 GR 3","description":"Lębork, Gimnazjum nr 3, gr 3","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/40/relationships/users","related":"http://localhost:3000/groups/40/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/40/relationships/teachers","related":"http://localhost:3000/groups/40/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/40/relationships/courses","related":"http://localhost:3000/groups/40/courses"}}}},{"id":"41","type":"groups","links":{"self":"http://localhost:3000/groups/41"},"attributes":{"name":"SP 4 GR 2","description":"Lębork, Szkoła Podstawowa nr 4, gr 2","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/41/relationships/users","related":"http://localhost:3000/groups/41/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/41/relationships/teachers","related":"http://localhost:3000/groups/41/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/41/relationships/courses","related":"http://localhost:3000/groups/41/courses"}}}},{"id":"42","type":"groups","links":{"self":"http://localhost:3000/groups/42"},"attributes":{"name":"SP 4 GR 4","description":"Lębork, Szkoła Podstawowa nr 4, gr 4","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/42/relationships/users","related":"http://localhost:3000/groups/42/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/42/relationships/teachers","related":"http://localhost:3000/groups/42/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/42/relationships/courses","related":"http://localhost:3000/groups/42/courses"}}}},{"id":"43","type":"groups","links":{"self":"http://localhost:3000/groups/43"},"attributes":{"name":"SP 8 GR 3","description":"Lębork, Szkoła Podstawowa nr 8, gr 3","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/43/relationships/users","related":"http://localhost:3000/groups/43/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/43/relationships/teachers","related":"http://localhost:3000/groups/43/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/43/relationships/courses","related":"http://localhost:3000/groups/43/courses"}}}},{"id":"44","type":"groups","links":{"self":"http://localhost:3000/groups/44"},"attributes":{"name":" SP 8 GR 5","description":"Lębork, Szkoła Podstawowa nr 8, gr 5","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/44/relationships/users","related":"http://localhost:3000/groups/44/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/44/relationships/teachers","related":"http://localhost:3000/groups/44/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/44/relationships/courses","related":"http://localhost:3000/groups/44/courses"}}}},{"id":"45","type":"groups","links":{"self":"http://localhost:3000/groups/45"},"attributes":{"name":"SP 8 GR 1","description":"Lębork, Szkoła Podstawowa nr 8, klasa 1-2","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/45/relationships/users","related":"http://localhost:3000/groups/45/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/45/relationships/teachers","related":"http://localhost:3000/groups/45/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/45/relationships/courses","related":"http://localhost:3000/groups/45/courses"}}}},{"id":"46","type":"groups","links":{"self":"http://localhost:3000/groups/46"},"attributes":{"name":"SP 8 GR 2","description":"Lębork, Szkoła Podstawowa nr 8, klasa 3-4","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/46/relationships/users","related":"http://localhost:3000/groups/46/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/46/relationships/teachers","related":"http://localhost:3000/groups/46/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/46/relationships/courses","related":"http://localhost:3000/groups/46/courses"}}}},{"id":"47","type":"groups","links":{"self":"http://localhost:3000/groups/47"},"attributes":{"name":"SP 8 GR 4","description":"Lębork, Szkoła Podstawowa nr 8, klasa 4-6","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/47/relationships/users","related":"http://localhost:3000/groups/47/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/47/relationships/teachers","related":"http://localhost:3000/groups/47/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/47/relationships/courses","related":"http://localhost:3000/groups/47/courses"}}}},{"id":"48","type":"groups","links":{"self":"http://localhost:3000/groups/48"},"attributes":{"name":"SP 8 GR 6","description":"Lębork, Szkoła Podstawowa nr 8, klasa 6","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/48/relationships/users","related":"http://localhost:3000/groups/48/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/48/relationships/teachers","related":"http://localhost:3000/groups/48/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/48/relationships/courses","related":"http://localhost:3000/groups/48/courses"}}}},{"id":"49","type":"groups","links":{"self":"http://localhost:3000/groups/49"},"attributes":{"name":"SP3 GR 1","description":"Lębork, Szkoła Podstawowa nr 3, klasa 2","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/49/relationships/users","related":"http://localhost:3000/groups/49/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/49/relationships/teachers","related":"http://localhost:3000/groups/49/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/49/relationships/courses","related":"http://localhost:3000/groups/49/courses"}}}},{"id":"50","type":"groups","links":{"self":"http://localhost:3000/groups/50"},"attributes":{"name":"SP3 GR 4","description":"Lębork, Szkoła Podstawowa nr 3, klasa 5-6","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/50/relationships/users","related":"http://localhost:3000/groups/50/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/50/relationships/teachers","related":"http://localhost:3000/groups/50/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/50/relationships/courses","related":"http://localhost:3000/groups/50/courses"}}}},{"id":"51","type":"groups","links":{"self":"http://localhost:3000/groups/51"},"attributes":{"name":"GIM 2 GR 1","description":"Lębork, Gimnazjum nr 2, gr 1","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/51/relationships/users","related":"http://localhost:3000/groups/51/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/51/relationships/teachers","related":"http://localhost:3000/groups/51/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/51/relationships/courses","related":"http://localhost:3000/groups/51/courses"}}}},{"id":"52","type":"groups","links":{"self":"http://localhost:3000/groups/52"},"attributes":{"name":"GIM 3 GR 5B","description":"Lębork, Gimnazjum nr 3, klasa 4","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/52/relationships/users","related":"http://localhost:3000/groups/52/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/52/relationships/teachers","related":"http://localhost:3000/groups/52/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/52/relationships/courses","related":"http://localhost:3000/groups/52/courses"}}}},{"id":"53","type":"groups","links":{"self":"http://localhost:3000/groups/53"},"attributes":{"name":"LEŚNICE GR 1","description":"Leśnice, szkoła podstawowa, klasa 4","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/53/relationships/users","related":"http://localhost:3000/groups/53/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/53/relationships/teachers","related":"http://localhost:3000/groups/53/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/53/relationships/courses","related":"http://localhost:3000/groups/53/courses"}}}},{"id":"54","type":"groups","links":{"self":"http://localhost:3000/groups/54"},"attributes":{"name":"NWL GR 1","description":"Nowa Wieś Lęborska, szkoła podstawowa, klasa 4","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/54/relationships/users","related":"http://localhost:3000/groups/54/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/54/relationships/teachers","related":"http://localhost:3000/groups/54/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/54/relationships/courses","related":"http://localhost:3000/groups/54/courses"}}}},{"id":"55","type":"groups","links":{"self":"http://localhost:3000/groups/55"},"attributes":{"name":"NWL GR 2","description":"Nowa Wieś Lęborska, szkoła podstawowa, klasa 6","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/55/relationships/users","related":"http://localhost:3000/groups/55/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/55/relationships/teachers","related":"http://localhost:3000/groups/55/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/55/relationships/courses","related":"http://localhost:3000/groups/55/courses"}}}},{"id":"56","type":"groups","links":{"self":"http://localhost:3000/groups/56"},"attributes":{"name":"NWL GR 3","description":"Nowa Wieś Lęborska, szkoła podstawowa, klasa 6","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/56/relationships/users","related":"http://localhost:3000/groups/56/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/56/relationships/teachers","related":"http://localhost:3000/groups/56/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/56/relationships/courses","related":"http://localhost:3000/groups/56/courses"}}}},{"id":"57","type":"groups","links":{"self":"http://localhost:3000/groups/57"},"attributes":{"name":"NWL GR 4","description":"Nowa Wieś Lęborska, gimnazjum","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/57/relationships/users","related":"http://localhost:3000/groups/57/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/57/relationships/teachers","related":"http://localhost:3000/groups/57/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/57/relationships/courses","related":"http://localhost:3000/groups/57/courses"}}}},{"id":"58","type":"groups","links":{"self":"http://localhost:3000/groups/58"},"attributes":{"name":"NWL GR 5","description":"Nowa Wieś Lęborska, gimnazjum","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/58/relationships/users","related":"http://localhost:3000/groups/58/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/58/relationships/teachers","related":"http://localhost:3000/groups/58/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/58/relationships/courses","related":"http://localhost:3000/groups/58/courses"}}}},{"id":"59","type":"groups","links":{"self":"http://localhost:3000/groups/59"},"attributes":{"name":"NWL GR 6","description":"Nowa Wieś Lęborska, gimnazjum","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/59/relationships/users","related":"http://localhost:3000/groups/59/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/59/relationships/teachers","related":"http://localhost:3000/groups/59/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/59/relationships/courses","related":"http://localhost:3000/groups/59/courses"}}}},{"id":"60","type":"groups","links":{"self":"http://localhost:3000/groups/60"},"attributes":{"name":"REDKOWICE GR 1","description":"Redkowice, szkoła podstawowa, klasa 1-3","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/60/relationships/users","related":"http://localhost:3000/groups/60/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/60/relationships/teachers","related":"http://localhost:3000/groups/60/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/60/relationships/courses","related":"http://localhost:3000/groups/60/courses"}}}},{"id":"61","type":"groups","links":{"self":"http://localhost:3000/groups/61"},"attributes":{"name":"REDKOWICE GR 2","description":"Redkowice, szkoła podstawowa, klasa 4","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/61/relationships/users","related":"http://localhost:3000/groups/61/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/61/relationships/teachers","related":"http://localhost:3000/groups/61/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/61/relationships/courses","related":"http://localhost:3000/groups/61/courses"}}}},{"id":"62","type":"groups","links":{"self":"http://localhost:3000/groups/62"},"attributes":{"name":"REDKOWICE GR 3","description":"Redkowice, szkoła podstawowa, klasa 4-6","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/62/relationships/users","related":"http://localhost:3000/groups/62/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/62/relationships/teachers","related":"http://localhost:3000/groups/62/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/62/relationships/courses","related":"http://localhost:3000/groups/62/courses"}}}},{"id":"63","type":"groups","links":{"self":"http://localhost:3000/groups/63"},"attributes":{"name":"REDKOWICE GR 4","description":"Redkowice, szkoła podstawowa, klasa 1-3","user-count":8},"relationships":{"users":{"links":{"self":"http://localhost:3000/groups/63/relationships/users","related":"http://localhost:3000/groups/63/users"}},"teachers":{"links":{"self":"http://localhost:3000/groups/63/relationships/teachers","related":"http://localhost:3000/groups/63/teachers"}},"courses":{"links":{"self":"http://localhost:3000/groups/63/relationships/courses","related":"http://localhost:3000/groups/63/courses"}}}}]};

    let groups = source.data.map((item) => {
      return new Group(+item.id, item.attributes);
    });

    return new Promise((resolve) => resolve(groups));
  }
}

describe('StudentGroupsComponent',  () => {
  let component: StudentGroupsComponent;
  let fixture: ComponentFixture<StudentGroupsComponent>;

  beforeEach(async(() => {
    TestBed.configureTestingModule({
      imports: [ RouterTestingModule, FormsModule, HttpModule ],
      declarations: [ StudentGroupsComponent, GroupListComponent ],
      providers: [
        {provide: GroupService, useClass: GroupServiceMock},
        {provide: AuthService, useClass: AuthServiceMock},
        {provide: UserService, useClass: UserServiceMock},
        {
          provide: AuthHttp,
          useFactory: (http) => {
            return new AuthHttp(new AuthConfig(), http);
          },
          deps: [Http]
        }
      ]
    })
    .compileComponents();

    fixture = TestBed.createComponent(StudentGroupsComponent);
    component = fixture.componentInstance;
    fixture.detectChanges();
  }))

  it('should create', () => {
    expect(component).toBeTruthy();
  });
});
